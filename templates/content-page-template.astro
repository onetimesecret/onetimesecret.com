---
/**
 * src/templates/content-page-template.astro
 *
 * This is a template for creating new content pages with i18n support
 * Copy this file and modify the parameters as needed
 *
 * Usage:
 * 1. Copy this file to src/pages/[lang]/your-page-name.astro
 * 2. Change "page-slug" to match your content file name (without extension)
 * 3. Add your content in src/content/pages/your-page-name.md or
 *    src/content/pages/{lang}/your-page-name.md for localized versions
 */
import ContentPage from "@/components/ContentPage.astro";
import LanguageFallbackNotice from "@/components/LanguageFallbackNotice.astro";
import { createContentPage } from "@/utils/createContentPage";

// Generate static paths for all supported languages
// Replace "page-slug" with your actual page slug (without extension)
export const getStaticPaths = createContentPage("page-slug").getStaticPaths;

// Process the page content and get all necessary props
const { lang = "en" } = Astro.params;
const { Content, pageProps, isFallback } =
  await createContentPage("page-slug").processAstroContext(Astro);

// Optional: You can customize the page props here if needed
// pageProps.title = `Custom title ${pageProps.title}`;
---

<ContentPage {...pageProps}>
  <Content />
</ContentPage>

{/* Show fallback notice if content isn't available in requested language */}
{isFallback && <LanguageFallbackNotice lang={lang} />}
