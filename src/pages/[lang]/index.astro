---
import Layout from "@/layouts/Layout.astro";
import Homepage from "@/components/vue/homepage/Homepage.vue";
import "@/styles/global.css";
import "@/styles/tailwind.css";
import "@/i18n";

const { lang } = Astro.props;

/**
 * Component Script:
 * What markdown calls frontmatter, astro refers to as Component Script.
 *
 * "The code fence is designed to guarantee that the JavaScript that you
 * write in it is "fenced in." It won't escape into your frontend
 * application, or fall into your user's hands. You can safely write code
 * here that is expensive or sensitive (like a call to your private
 * database) without worrying about it ever ending up in your user's
 * browser."
 *  @see https://docs.astro.build/en/basics/astro-components/#the-component-script
 *  @see https://astro.new/latest/frameworks/
 *
 * Import all `.md` files in `./src/pages/post/`:
 * const matches = import.meta.glob('../pages/post/*.md', { eager: true });
 *
 * Loads and initializes the requested WASM file:
 * const wasm = await WebAssembly.instantiateStreaming(fetch('/example.wasm'));
 *
 *
 * Component Props:
 * Usage: <GreetingHeadline greeting="Howdy" name="Partner" />
 *
 * const { greeting, name } = Astro.props;
 *
 * "Astro components are always rendered to static HTML, even when they include
 * framework components that are hydrated. This means that you can only pass
 * props that don't do any HTML rendering."
 *
 * Component Template:
 * "Use the Astro <slot /> pattern to pass static content generated by
 * Astro components as children to your framework components inside an
 * .astro component"
 *
 * "If you try to hydrate an Astro component with a client: modifier, you
 * will get an error."
 */
import { getLanguagePaths } from "@config/astro/i18n";

export async function getStaticPaths() {
  return getLanguagePaths();
}

const pageTitle = "Share Secrets Securely | Onetime Secret";
const pageDescription =
  "Share sensitive information securely with self-destructing links. Paste your secret, generate a link, and share it. Once viewed, it's gone forever.";
---

<!-- The Component Template -->
<Layout
  title={pageTitle}
  description={pageDescription}>
  <!-- Render the Homepage component -->
  <!-- client:load ensures the Vue component hydrates and runs client-side -->
  <Homepage
    client:load
    locale={lang}
  />
  <!-- <slot />  -->
</Layout>
